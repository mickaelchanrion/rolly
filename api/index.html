<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API reference | rolly.js</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="manifest" href="/rolly/manifest.json">
    <link rel="apple-touch-icon" href="/rolly/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/rolly/icons/safari-pinned-tab.svg" color="#384cff">
    <meta name="description" content="Custom scroll with inertia, smooth parallax and scenes manager">
    <meta name="theme-color" content="#384cff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/rolly/assets/css/0.styles.5fa3f6aa.css" as="style"><link rel="preload" href="/rolly/assets/js/app.cac6c3d8.js" as="script"><link rel="preload" href="/rolly/assets/js/2.492635be.js" as="script"><link rel="preload" href="/rolly/assets/js/6.4d2d8e88.js" as="script"><link rel="prefetch" href="/rolly/assets/js/3.7409d25a.js"><link rel="prefetch" href="/rolly/assets/js/4.fcdd7d82.js"><link rel="prefetch" href="/rolly/assets/js/5.a752581a.js"><link rel="prefetch" href="/rolly/assets/js/7.d83c0a21.js"><link rel="prefetch" href="/rolly/assets/js/8.538a096e.js">
    <link rel="stylesheet" href="/rolly/assets/css/0.styles.5fa3f6aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/rolly/" class="home-link router-link-active"><!----> <span class="site-name">rolly.js</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/rolly/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/rolly/api/" class="nav-link router-link-exact-active router-link-active">
  API reference
</a></div><div class="nav-item"><a href="https://rolly.maj.digital" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://codepen.io/collection/AyEJzY/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Examples
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/mickaelchanrion/rolly/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mickaelchanrion/rolly" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/rolly/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/rolly/api/" class="nav-link router-link-exact-active router-link-active">
  API reference
</a></div><div class="nav-item"><a href="https://rolly.maj.digital" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://codepen.io/collection/AyEJzY/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Examples
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/mickaelchanrion/rolly/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mickaelchanrion/rolly" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rolly/api/#options" class="sidebar-link">Options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rolly/api/#vertical" class="sidebar-link">vertical</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#listener" class="sidebar-link">listener</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#view" class="sidebar-link">view</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#native" class="sidebar-link">native</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#preload" class="sidebar-link">preload</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#autoupdate" class="sidebar-link">autoUpdate</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#ready" class="sidebar-link">ready</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#change" class="sidebar-link">change</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#changestart" class="sidebar-link">changeStart</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#changeend" class="sidebar-link">changeEnd</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#ease" class="sidebar-link">ease</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#virtualscroll" class="sidebar-link">virtualScroll</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#noscrollbar" class="sidebar-link">noScrollBar</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#scenes" class="sidebar-link">scenes</a></li></ul></li><li><a href="/rolly/api/#data-attributes-as-option" class="sidebar-link">Data attributes as option</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rolly/api/#data-scene" class="sidebar-link">data-scene</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#data-speed" class="sidebar-link">data-speed</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#data-trigger" class="sidebar-link">data-trigger</a></li></ul></li><li><a href="/rolly/api/#methods" class="sidebar-link">Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rolly/api/#init" class="sidebar-link">init</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#on" class="sidebar-link">on</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#off" class="sidebar-link">off</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#destroy" class="sidebar-link">destroy</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#reload" class="sidebar-link">reload</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#scrollto" class="sidebar-link">scrollTo</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#update" class="sidebar-link">update</a></li></ul></li><li><a href="/rolly/api/#states" class="sidebar-link">States</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rolly/api/#globalstate" class="sidebar-link">globalState</a></li><li class="sidebar-sub-header"><a href="/rolly/api/#scenestate" class="sidebar-link">sceneState</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api-reference"><a href="#api-reference" class="header-anchor">#</a> API reference</h1> <h2 id="options"><a href="#options" class="header-anchor">#</a> Options</h2> <h3 id="vertical"><a href="#vertical" class="header-anchor">#</a> vertical</h3> <p>Whether the scroll direction is vertical or horizontal.</p> <ul><li>type: <code>Boolean</code></li> <li>default: <code>true</code></li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>horizontal</code> mode is still under development and has not been fully tested. You might discover some bugs.</p></div> <h3 id="listener"><a href="#listener" class="header-anchor">#</a> listener</h3> <p>The element to listen for scroll events.</p> <ul><li>type: <code>Element</code></li> <li>default: <code>document.body</code></li></ul> <h3 id="view"><a href="#view" class="header-anchor">#</a> view</h3> <p>The element that contains all the scenes.</p> <ul><li>type: <code>Element</code></li> <li>default: The first element with the class <code>.rolly-view</code></li></ul> <h3 id="native"><a href="#native" class="header-anchor">#</a> native</h3> <p>If true, Rolly will use the native scroll bar and the native scroll behavior. Otherwise, Rolly will instantiate <a href="https://github.com/ayamflow/virtual-scroll" target="_blank" rel="noopener noreferrer">virtual-scroll<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and create a custom scroll bar.</p> <ul><li>type: <code>Boolean</code></li> <li>default: <code>true</code></li></ul> <h3 id="preload"><a href="#preload" class="header-anchor">#</a> preload</h3> <p>If true, Rolly will load every images contained in the scenes and then, refresh the cache and call the <a href="#ready">ready</a> callback.</p> <ul><li>type: <code>Boolean</code></li> <li>default: <code>true</code></li></ul> <h3 id="autoupdate"><a href="#autoupdate" class="header-anchor">#</a> autoUpdate</h3> <p>If true, Rolly will listen for resize events and refresh the size of the scenes, etc.</p> <ul><li>type: <code>Boolean</code></li> <li>default: <code>true</code></li></ul> <h3 id="ready"><a href="#ready" class="header-anchor">#</a> ready</h3> <p>The callback when Rolly is ready.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>() =&gt; {}</code></li> <li>arguments:
<ul><li><code>Object</code> globalState - The current <a href="#globalstate">state of Rolly</a></li></ul></li></ul> <h3 id="change"><a href="#change" class="header-anchor">#</a> change</h3> <p>Called on every frame while Rolly is in activity (updating transformations).</p> <ul><li>type: <code>Function</code></li> <li>default: <code>() =&gt; {}</code></li> <li>arguments:
<ul><li><code>Object</code> globalState - The current <a href="#globalstate">state of Rolly</a></li></ul></li></ul> <h3 id="changestart"><a href="#changestart" class="header-anchor">#</a> changeStart</h3> <p>Called when Rolly resumes its activity.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>() =&gt; {}</code></li> <li>arguments:
<ul><li><code>Object</code> globalState - The current <a href="#globalstate">state of Rolly</a></li></ul></li></ul> <h3 id="changeend"><a href="#changeend" class="header-anchor">#</a> changeEnd</h3> <p>Called when Rolly stops its activity.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>() =&gt; {}</code></li> <li>arguments:
<ul><li><code>Object</code> globalState - The current <a href="#globalstate">state of Rolly</a></li></ul></li></ul> <h3 id="ease"><a href="#ease" class="header-anchor">#</a> ease</h3> <p>The easing value between 0 and 1.</p> <ul><li>type: <code>Number</code></li> <li>default: <code>0.075</code></li></ul> <h3 id="virtualscroll"><a href="#virtualscroll" class="header-anchor">#</a> virtualScroll</h3> <p>See virtual-scroll <a href="https://github.com/ayamflow/virtual-scroll#options" target="_blank" rel="noopener noreferrer">options<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the list of options.</p> <ul><li>type: <code>Object</code></li> <li>default:<div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  limitInertia<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  mouseMultiplier<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
  touchMultiplier<span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
  firefoxMultiplier<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  preventTouch<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="noscrollbar"><a href="#noscrollbar" class="header-anchor">#</a> noScrollBar</h3> <p>Whether to display a custom scroll bar if the <a href="#native">native</a> option is false.</p> <ul><li>type: <code>Boolean</code></li> <li>default: <code>false</code></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>For UX reasons, it is highly recommended to keep a scrollbar.</p></div> <h3 id="scenes"><a href="#scenes" class="header-anchor">#</a> scenes</h3> <p>Options for scenes.</p> <ul><li>type: <code>Object</code></li> <li>default:<div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'[data-scene]'</span><span class="token punctuation">,</span>
  trigger<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
  speed<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="all-scenes-options"><a href="#all-scenes-options" class="header-anchor">#</a> All scenes options</h4> <h5 id="scenes-selector"><a href="#scenes-selector" class="header-anchor">#</a> scenes.selector</h5> <p>The CSS selector for scenes.</p> <ul><li>type: <code>String</code></li> <li>default: <code>'[data-scene]'</code></li></ul> <h5 id="scenes-speed"><a href="#scenes-speed" class="header-anchor">#</a> scenes.speed</h5> <p>The speed of scenes by default.</p> <ul><li>type: <code>Float</code></li> <li>default: <code>1</code></li></ul> <p>Some examples:</p> <ul><li><code>1</code> will be a normal scroll speed</li> <li><code>2</code> is twice faster</li> <li><code>0.5</code> is half the normal speed</li> <li>a negative value will make the scene moving in the opposite way of the scroll sens</li></ul> <h5 id="scenes-trigger"><a href="#scenes-trigger" class="header-anchor">#</a> scenes.trigger</h5> <p>The scene will throw <a href="#scenes-enter">enter</a> and <a href="#scenes-leave">leave</a> callbacks when it meets its trigger.</p> <ul><li>type: <code>String</code></li> <li>default: <code>'middle'</code>,</li> <li>accepted values:
<ul><li><code>'start'</code></li> <li><code>'middle'</code></li> <li><code>'end'</code></li> <li><code>'20px'</code>, any value in pixels (<code>'0px'</code> === <code>'start'</code>)</li> <li><code>'10%'</code>, any value in percentage (<code>'0%'</code> === <code>'start'</code> and <code>'100%'</code> === <code>'end'</code>)</li></ul></li></ul> <h5 id="scenes-cache"><a href="#scenes-cache" class="header-anchor">#</a> scenes.cache</h5> <p>The cache of a scene is extendable using this function. This is useful in case you need some extra cached data in callbacks.</p> <p>You have to return your extended cache data in an object.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>undefined</code></li> <li>arguments:
<ul><li><code>Object</code> data - Contains:
<ul><li>cache - The computed cache so far</li> <li>globalState - The <a href="#globalstate">state of Rolly</a></li> <li>sceneState - The <a href="#scenestate">state of the scene</a></li></ul></li></ul></li></ul> <h5 id="scenes-change"><a href="#scenes-change" class="header-anchor">#</a> scenes.change</h5> <p>Called on every frame for every scenes visible in the view while Rolly is in activity (updating transformations).</p> <ul><li>type: <code>Function</code></li> <li>default: <code>undefined</code></li> <li>arguments:
<ul><li><code>Object</code> data - Contains:
<ul><li>globalState - The current <a href="#globalstate">state of Rolly</a></li> <li>sceneState - The current <a href="#scenestate">state of the scene</a></li> <li>transform - The computed transform value (in pixels)</li></ul></li></ul></li></ul> <h5 id="scenes-appear"><a href="#scenes-appear" class="header-anchor">#</a> scenes.appear</h5> <p>Called when a scene appears in the view.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>undefined</code></li> <li>arguments:
<ul><li><code>Object</code> data - Contains:
<ul><li>globalState - The current <a href="#globalstate">state of Rolly</a></li> <li>sceneState - The current <a href="#scenestate">state of the scene</a></li> <li>The computed transform value (in pixels)</li></ul></li></ul></li></ul> <h5 id="scenes-disappear"><a href="#scenes-disappear" class="header-anchor">#</a> scenes.disappear</h5> <p>Called when a scene disappears from the view.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>undefined</code></li> <li>arguments:
<ul><li><code>Object</code> data - Contains:
<ul><li>globalState - The current <a href="#globalstate">state of Rolly</a></li> <li>sceneState - The current <a href="#scenestate">state of the scene</a></li> <li>The computed transform value (in pixels)</li></ul></li></ul></li></ul> <h5 id="scenes-enter"><a href="#scenes-enter" class="header-anchor">#</a> scenes.enter</h5> <p>Called when the trigger enters the scene.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>undefined</code></li> <li>arguments:
<ul><li><code>Object</code> data - Contains:
<ul><li>globalState - The current <a href="#globalstate">state of Rolly</a></li> <li>sceneState - The current <a href="#scenestate">state of the scene</a></li> <li>The computed transform value (in pixels)</li></ul></li></ul></li></ul> <video width="690" height="400" controls="controls" loop="loop" class="video"><source src="/rolly/scene-enter.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video> <h5 id="scenes-leave"><a href="#scenes-leave" class="header-anchor">#</a> scenes.leave</h5> <p>Called when the trigger leaves the scene.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>undefined</code></li> <li>arguments:
<ul><li><code>Object</code> data - Contains:
<ul><li>globalState - The current <a href="#globalstate">state of Rolly</a></li> <li>sceneState - The current <a href="#scenestate">state of the scene</a></li> <li>The computed transform value (in pixels)</li></ul></li></ul></li></ul> <video width="690" height="400" controls="controls" loop="loop" class="video"><source src="/rolly/scene-leave.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video> <h5 id="scenes-transform"><a href="#scenes-transform" class="header-anchor">#</a> scenes.transform</h5> <p>Overrides the default transform function of Rolly. Useful in case you want to apply any custom CSS to the scene.</p> <ul><li>type: <code>Function</code></li> <li>default: <code>undefined</code></li> <li>arguments:
<ul><li><code>Object</code> data - Contains:
<ul><li>globalState - The current <a href="#globalstate">state of Rolly</a></li> <li>sceneState - The current <a href="#scenestate">state of the scene</a></li> <li>The computed transform value (in pixels)</li></ul></li></ul></li></ul> <h4 id="scenes-scenetype-specific-to-a-scene"><a href="#scenes-scenetype-specific-to-a-scene" class="header-anchor">#</a> scenes.{sceneType} - specific to a scene</h4> <p>All these options and callbacks (except <a href="#scenes-selector">selector</a>) can be specific to a type of scene. To do so, they goes into an object keyed by the <a href="#data-scene">type</a> of the scene, in the <a href="#scenes">scenes options</a>.</p> <p>e.g.:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-scene</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hero<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- the hero content --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">rolly</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  scenes<span class="token operator">:</span> <span class="token punctuation">{</span>
    trigger<span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">,</span>
    <span class="token function">appear</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a scene appears'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>sceneState<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">disappear</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a scene appears'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>sceneState<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// options specific to the scene 'hero'</span>
    hero<span class="token operator">:</span> <span class="token punctuation">{</span>
      trigger<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
      speed<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
      <span class="token function">appear</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hero scene appears'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>sceneState<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">disappear</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hero scene appears'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>sceneState<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Any specific callback overrides global callbacks.</p></div> <h2 id="data-attributes-as-option"><a href="#data-attributes-as-option" class="header-anchor">#</a> Data attributes as option</h2> <p>You can provide some data attributes as options</p> <h3 id="data-scene"><a href="#data-scene" class="header-anchor">#</a> data-scene</h3> <p>By default, this attribute is the selector of scenes. The scene has to be typed using this attribute if you want to assign a <a href="#scenes-scenetype-specific-to-a-scene">specific behavior</a> to one or multiple scenes.</p> <h3 id="data-speed"><a href="#data-speed" class="header-anchor">#</a> data-speed</h3> <p>Overrides <a href="#scenes-speed">this scene option</a>.</p> <h3 id="data-trigger"><a href="#data-trigger" class="header-anchor">#</a> data-trigger</h3> <p>Overrides <a href="#scenes-trigger">this scene option</a>.</p> <h2 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h2> <h3 id="init"><a href="#init" class="header-anchor">#</a> init</h3> <p>Initializes the Rolly instance:</p> <ul><li>adds DOM classes</li> <li>if <a href="#native">native</a>, adds a fake height for scroll and sets scenes to a fixed position</li> <li>else if <a href="#noscrollbar">noScrollBar</a> is false, adds a fake scroll bar</li> <li>calls the method <a href="#on">on</a></li></ul> <h3 id="on"><a href="#on" class="header-anchor">#</a> on</h3> <p>Enables the Rolly instance:</p> <ul><li>starts listening events (scroll and resize)</li> <li>requests an animation frame if <code>rAF</code> is true</li> <li>parameters:
<ul><li><code>Boolean</code> rAF - Whether to request an animation frame
<ul><li>default: <code>true</code></li></ul></li></ul></li></ul> <h3 id="off"><a href="#off" class="header-anchor">#</a> off</h3> <p>Disables the Rolly instance:</p> <ul><li>stops listening events (scroll and resize)</li> <li>cancels any requested animation frame if <code>cAF</code> is true</li> <li>parameters:
<ul><li><code>Boolean</code> cAf - Whether to cancel a requested animation frame
<ul><li>default: <code>true</code></li></ul></li></ul></li></ul> <h3 id="destroy"><a href="#destroy" class="header-anchor">#</a> destroy</h3> <p>Destroys the Rolly instance:</p> <ul><li>removes DOM classes</li> <li>if <a href="#native">native</a>, removes the fake height for scroll</li> <li>else if <a href="#noscrollbar">noScrollBar</a> is false, removes the fake scroll bar</li> <li>call the method <a href="#off">off</a></li></ul> <h3 id="reload"><a href="#reload" class="header-anchor">#</a> reload</h3> <p>Reloads the Rolly instance with new options.</p> <ul><li>parameters:
<ul><li><code>Object</code> options - The new options
<ul><li>default: the previous options</li></ul></li></ul></li></ul> <h3 id="scrollto"><a href="#scrollto" class="header-anchor">#</a> scrollTo</h3> <p>Scrolls to a target.</p> <ul><li>parameters:
<ul><li><code>Number|Element</code> target - The target to scroll to</li> <li><code>Object</code> options</li></ul></li></ul> <p>Available options:</p> <ul><li><code>Number</code> offset - An offset
<ul><li>default: <code>0</code></li></ul></li> <li><code>String</code> position - The ending position in the view
<ul><li>default: <code>'start'</code></li> <li>accepted values:
<ul><li><code>'start'</code></li> <li><code>'center'</code></li> <li><code>'end'</code></li></ul></li></ul></li> <li><code>Function</code> callback - A call
<ul><li>default: <code>null</code></li> <li>arguments:
<ul><li><code>Object</code> globalState - The current <a href="#globalstate">state of Rolly</a></li></ul></li></ul></li></ul> <h3 id="update"><a href="#update" class="header-anchor">#</a> update</h3> <p>Updates the states and re-setup all the cache of the Rolly instance. Useful if the size of the view changed.</p> <h2 id="states"><a href="#states" class="header-anchor">#</a> States</h2> <h3 id="globalstate"><a href="#globalstate" class="header-anchor">#</a> globalState</h3> <p>The state of Rolly contains:</p> <ul><li><code>Number</code> current - The current scroll value</li> <li><code>Number</code> previous - The scroll value at the previous animation frame</li> <li><code>Number</code> target - The targeted scroll value</li> <li><code>Number</code> width - The width of the view</li> <li><code>Number</code> height - The height of the view</li> <li><code>Number</code> bounding - The max scroll value</li> <li><code>Boolean</code> ready - Whether the Rolly instance is ready</li> <li><code>Boolean</code> preLoaded - Whether images to pre-load are loaded</li> <li><code>String</code> transformPrefix - The corresponding vendor prefix for the CSS transform</li></ul> <h3 id="scenestate"><a href="#scenestate" class="header-anchor">#</a> sceneState</h3> <p>The state of a scene:</p> <ul><li><code>Boolean</code> caching - Whether the Rolly instance is caching some data</li> <li><code>Object</code> cache - The cached data:
<ul><li><code>Element</code> context - The DOM element of the scene</li> <li><code>String</code> type - The type of the scene</li> <li><code>Number</code> top - The distance between the top of the view and the top of the scene at the initial state</li> <li><code>Number</code> bottom - The distance between the top of the view and the bottom of the scene at the initial state</li> <li><code>Number</code> left - The distance between the left of the view and the left of the scene at the initial state</li> <li><code>Number</code> right - The distance between the left of the view and the right of the scene at the initial state</li> <li><code>Number</code> size - The height of the scene (or width on horizontal mode)</li> <li><code>Number</code> speed - The speed of the scene</li> <li><code>String</code> trigger - The trigger position (e.g.: 'middle', 'bottom', '100px', '10%')</li></ul></li> <li><code>Boolean</code> inView - Whether the scene is visible in the view</li> <li><code>Boolean</code> active - Whether the trigger of the scene is in the scene</li> <li><code>Number</code> progress - The progress of the scene in relation to its trigger</li> <li><code>Number</code> progressInView - The progress of the scene in relation to the view</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The cache of a scene <a href="#scenes-cache">is extendable</a>.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/rolly/assets/js/app.cac6c3d8.js" defer></script><script src="/rolly/assets/js/2.492635be.js" defer></script><script src="/rolly/assets/js/6.4d2d8e88.js" defer></script>
  </body>
</html>
